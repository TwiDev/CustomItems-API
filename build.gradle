group 'net.twidev.customsItems'
version '1.0.0'

apply plugin: 'java'

sourceCompatibility = 1.8

compileJava.options.encoding = 'UTF-8'
compileTestJava.options.encoding = 'UTF-8'
javadoc.options.encoding = 'UTF-8'

repositories {
    mavenCentral()
    mavenLocal()

    flatDir{
        dirs "../sly-api/build/libs/"
    }

    maven {
        url "https://hub.spigotmc.org/nexus/content/repositories/snapshots"
    }

    maven {
        url = "https://oss.sonatype.org/content/repositories/snapshots/"
    }
}

dependencies {

    compileOnly group: 'org.spigotmc', name: 'spigot-api', version: '1.8-R0.1-SNAPSHOT'

    compileOnly name: 'sly-api-4.0.0'
}

task fatJar(type: Jar) {
    manifest {
        attributes 'Implementation-Title': 'Gradle Jar File Example',
                'Implementation-Version': version,
                'Main-Class': 'net.twidev.CustomItems.Items'
    }
    baseName = project.name
    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
    with jar
}